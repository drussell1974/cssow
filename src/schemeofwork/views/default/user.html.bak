{{extend '__layout.html'}}
{{block header}}
<div class="row">
  <div class="col-lg-8 col-md-10 mx-auto">
    <div class="site-heading">
      <h1>{{=T('Sign Up') if request.args(0) == 'register' else T('Log In') if request.args(0) == 'login' else T(request.args(0).replace('_',' ').title())}}</h1>
      <span class="subheading">{{=T('Register to create schemes of work and lessons')}}</span>
    </div>
  </div>
</div>
{{end}}
<div class="container">
      <div class="row">
        <div class="col-lg-8 col-md-10 mx-auto">
                    {{=form}}
                    {{if request.args(0)=='login' and not 'register' in auth.settings.actions_disabled:}}
                    <a href="{{=URL('user/register')}}">{{=T('Register')}}</a>
                    <br/>
                    {{pass}}
                    {{if request.args(0)=='login' and not 'retrieve_password' in auth.settings.actions_disabled:}}
                    <a href="{{=URL('user/retrieve_password')}}">{{=T('Lost your password?')}}</a>
                    {{pass}}
                    {{if request.args(0)=='register':}}
                    <a href="{{=URL('user/login')}}">{{=T('Login')}}</a>
                    {{pass}}
        </div>
    </div>
</div>


{{block page_js}}
<script>
    jQuery("#web2py_user_form input:visible:enabled:first").focus();
{{if request.args(0)=='register':}}
    web2py_validate_entropy(jQuery('#auth_user_password'),100);
{{elif request.args(0)=='change_password':}}
    web2py_validate_entropy(jQuery('#no_table_new_password'),100);
{{pass}}
</script>
{{end page_js}}
