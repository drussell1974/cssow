{% extends '_partials/__layout.twocolumn.contentheading.html' %}

{% block breadcrumb %}

<section class="widget widget-breadcrumb widget-breadcrumb--learningobjectives-index">
  <nav class="navbar navbar-expand-lg navbar-light" id="itemNav">
    <div class="container">
      <ul class="navbar-nav ml-auto">
        <li class="nav-item">
          <a class="nav-link" id="lnk-bc-schemes_of_work" href="{% url 'schemesofwork.index' %}">{{_("Schemes of Work")}}</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" id="lnk-bc-lessons" href="{% url 'lesson.index' content.data.scheme_of_work_id %}">{{_("Lessons")}}</a>
        </li>
      </ul>
    </div>
  </nav>
</section>

{% endblock %}


{% block sidecontent %}

<section class="card widget widget-button widget-button--blackboard">
  <div class="alert alert-secondary">
    <a href="{% url 'lesson.whiteboard_view' content.data.scheme_of_work_id content.data.lesson_id %}" target="_blank" class="btn btn-dark" id="lnk-whiteboard_view">
      {{_("Blackboard display")}}
    </a>
  </div>
</section>

<!-- SIDE MENU START -->
<nav class="navbar navbar-expand-lg navbar-light" id="sidebarNav">
  <button class="navbar-toggler btn" type="button" data-toggle="collapse" data-target="#sidebarResponsive" aria-controls="sidebarResponsive" aria-expanded="true" aria-label="Toggle navigation">
      {{_("Menu")}} <i class="fas fa-bars"></i>
  </button>
  <div class="collapse navbar-collapse" id="sidebarResponsive">
    <div class="list-group">
            
      <section class="card widget widget--sidebar">
        <div class="card-body">
          <div class="card-header widget-header">
            <h5 class="card-heading">{{ _("This lesson") }}</h5>
          </div>
          <div class="card-text widget-main">
            <ul class="navbar-nav flex-column fillspace">
              <li class="nav-item bg-light">
                  <a class="nav-link" href="{% url 'learningobjective.index' content.data.scheme_of_work_id content.data.lesson_id %}">
                    {{_("Learning objectives")}} <div class="small"></div>
                  </a>
              </li>
              <li class="nav-item">
                  <a class="nav-link" href="{% url 'resource.index' content.data.scheme_of_work_id content.data.lesson_id %}">
                    {{_("Resources")}} <div class="small"></div>
                  </a>
              </li>
            </ul>
          </div>
        </div>
      </section>

      <section class="card widget widget--sidebar">
        <div class="card-body">
          <div class="card-header widget-header">
            <h5 class="card-heading">{{ _("This scheme of work") }}</h5>
          </div>
          <div class="card-text widget-main">
            <ul class="navbar-nav flex-column fillspace">
              <li class="nav-item bg-light">
                <a class="nav-link" href="{% url 'lesson.index' content.data.scheme_of_work_id %}">
                  {{_("Lessons")}} <div class="small"></div>
                </a>
              </li>
              <li class="nav-item">
                  <a class="nav-link" href="{% url 'content.index' content.data.scheme_of_work_id %}">
                    {{_("Content")}} <div class="small"></div>
                  </a>
              </li>
            </ul>
          </div>
        </div>
      </section>

      <section class="card widget widget-sidenav d-none d-lg-block">
        <div class="card-body">
          <div class="card-header widget-header">
            <h5 class="card-title">{{_("Other lessons")}}</h5>
          </div>
          <div class="card-text">
            <ul class="navbar-nav flex-column fillspace">
            {% for opt in content.data.lesson_options %}
              <li class="nav-item {% if opt.id == content.data.lesson_id %}bg-light{% endif %}">
                  <a class="nav-link" href="{% url 'resource.index' content.data.scheme_of_work_id opt.id %}" id="nav-link-lesson-{{opt.id}}">
                    {{ opt.title }} <div class="small">{{ opt.key_stage_name}}</div>
                  </a>
              </li>
            {% endfor %}
            </ul>
          </div>
        </div>
      </section>
    
    </div>
  </div>
</nav>
<!-- SIDE MENU // END -->

{% endblock %}

{% block maincontent %}

<article class="widget widget--learningobjectives-listing">
<!-- Pager Header -->      
<header class="widget widget--articleheader">
{% if request.user.is_authenticated %}
{% endif %}
<h2 class="group-heading">{{_("Learning objectives")}}</h2>
<hr />
</header>
<!-- Pager Header END -->
  {% for key, value  in content.data.learning_objectives_by_solo_group.items %}

    <div class="group">
      <span class="float-right">
        <a class="btn btn-warning" id="btn-new" href="{% url 'learningobjective.edit' content.data.scheme_of_work_id content.data.lesson_id 0 %}?solo={{value.id}}#main">{{_("add")}}</a>
      </span>    
      <h2 class="group-subheading">
      {% if value.lvl == "A" %}
        <i class="far fa-thumbs-up"></i>
      {% elif value.lvl == "B" %}
        <i class="far fa-star"></i>
      {% elif value.lvl == "C" %}
        <i class="fas fa-star"></i>
      {% elif value.lvl == "D" %}
        <i class="fas fa-trophy"></i>
      {% endif %}
        {{value.name}}
      </h2>
      {% for row in value.learning_objectives %}    
        <div class="post-preview {{ row.published_state }}">
          <a name="{{ row.id }}"></a>
          <a class="edit" href="{% url 'learningobjective.edit' content.data.scheme_of_work_id content.data.lesson_id row.id %}">
            <h3 class="post-title">
              {{ row.description}}
            </h3>
            {% if request.user.is_authenticated and 1 == 2%}
              <div class="custom-control custom-checkbox">  
                <input type="checkbox" class="custom-control-input is_key_objective" id="chk-is_key_objective-{{row.id}}" {% if row.is_key_objective %} checked {% endif %} value="{{ row.id }}">
                <label class="custom-control-label small" for="chk-is_key_objective-{{ row.id }}" id="lbl-is_key_objective-{{ row.id }}">{{_("This is a key learning objective")}}</label>
              </div>
            {% endif %}
            <h3 class="post-subtitle">
                {{ row.topic_name}}
            </h3>
          </a>  
        </div>
      {% endfor %}
    </div> 
    <hr>
  {% endfor %}
  
  <footer class="widget widget--article-footer">
    {% if request.user.is_authenticated %}
      <a class="navbar-brand btn btn-danger float-right" id="btn-delete-unpublished" href="{% url 'learningobjective.delete_unpublished' content.data.scheme_of_work_id content.data.lesson_id %}">{{_('Clean')}}</a>
    {% endif %}
  </footer>
</article>
{% endblock %}